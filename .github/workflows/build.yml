#Sample CD file
name: Build django app
on: 
  push:
    branches: 
        - 'feature/add_actions'

jobs:
  # build:
  #   runs-on: ubuntu-latest
  #   steps:
  #     - name: Checkout repository
  #       uses: actions/checkout@v3
          
  #     - name: Docker Compose Action
  #       uses: isbang/compose-action@v1.5.1
  #       with:
  #         compose-file: "docker-compose.yml"
  #     - name: Docker nginx artifact upload
  #       uses: ishworkh/docker-image-artifact-upload@v2.1.0
  #       with:
  #         image: "pagespeed/nginx-pagespeed:latest"
  #     - name: Docker django artifact upload
  #       uses: ishworkh/docker-image-artifact-upload@v2.1.0
  #       with:
  #         image: "docker.io/library/personal-web-djangoapp"

  deploy:
    runs-on: ubuntu-latest
    # needs: build
    steps:

      - name: Set up SSH key
        run: |
          mkdir -p ~/.ssh


      # - name: Deploy to server or Storage Box
      #   run: |
      #     rsync -azP -e "ssh -i $HOME/.ssh/id_ed25519 -p 22" ./action_image_artifact_docker.io_library_personal-web-djangoapp ${{ secrets.ARTIFACT_USERNAME }}@${{ secrets.ARTIFACT_HOST }}:~/action_image_artifact_docker.io_library_personal-web-djangoapp



      
            
            